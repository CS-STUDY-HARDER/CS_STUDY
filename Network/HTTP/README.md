
## HTTP, HTTPS

### HTTP
HTTP는 본질적으로 하이퍼텍스트 마크업 언어 형식으로 데이터와 이미지를 전송하고 요청하기 위한 응용 계층 프로토콜. 클라이언트와 서버가 자원을 주고 받을때 사용하는 통신 규약. 웹 사이트는 HTTP를 통해 접근할 수 있는 파일, 링크, 다른 리소스의 디렉터리이다.<br>

HTTP 1.1은 수년간 지배적인 HTML 버전이었는데 2015년에 HTTP/2의 새로운 버전이 나왔다. HTML을 통해 콘텐츠를 전송하는 과정은 깔끔하지만, HTTP/2는 성능을 높이기 위해 전송할때 복잡한 과정이 추가된다.<br>

HTTP는 HTML 문서를 전송하는게 목적인 응용 계층 수준의 프로토콜. 클라이언트 및 서버 애플리케이션은 TCP 전송 프로토콜을 사용해 연결을 설정한다.

#### HTTP의 역할
1) 클라이언트와 서버를 연결한다
2) 세션에 대한 설정을 지정하고 매개변수를 설정한다.
3) HTML 콘텐츠를 순서대로 전송한다
4) 서버와의 연결을 종료한다.

#### HTTP 통신 과정
1) 브라우저에 URL을 입력
2) 브라우저는 먼저 URL 스킴을 체크해 프로토콜을 결정
3) 브라우저에서 HTTP 사이트의 리소스를 참조한다고 판단.
4) URL에서 DNS 이름을 추출하고 이름을 확인.
5) 클라이언트 컴퓨터는 이름 서버에 DNS 룩업 요청을 보내고, 서버의 IP 주소를 수신.
6) 서버의 IP 주소로 서버와 TCP 연결을 시작
7) TCP 연결 설정 이후 브라우저는 GET 명령으로 서버에 웹 페이지 요청
> 옵션 필드 값 쌍을 GET 명령어 뒤에 사용해서 언어, 브라우저 유형 및 허용 가능한 파일 유형과 같은 설정가능.
8) 서버의 응답은 status-code, reason-pharse를 포함한 형식.

 HTTP 헤더 필드 일부
> | 필드 | 설명 |
> | --- | --- |
> | Content-Length | 콘텐츠 객체의 크기 |
> | Content-Encoding | 메시지와 관련된 인코딩 유형 |
> | Date | 객체가 생성된 날짜 |
> | Last-modified date | 객체가 마지막으로 수정된 날짜 |
> | Content-Language | 객체에 적힌 언어 |

 일부 헤더 필드는 정보 제공을 위한것이고, 다른 헤더 필드는 수신 HTML 문서를 분석하고 처리하기 위해 사용되는 정보를 포함. <br>
초기 HTTP 1.0에서는 각 요청/응답 주기는 새로운 TCP 연결이 필요했다.(클라이언트는 연결 후 요청 시작, 서버는 요청을 처리후 연결 종료) 서버가 TCP연결을 종료 했기 때문에 클라이언트는 서버가 언제 데이터 송신을 중단하는 지 알 수 있었다. 하지만 지속전인 연결과 종료에 오버헤드가 증가했다. HTTP 1.1에서 클라이언트와 서버는 단일 전송보다 더 길게 연결을 유지할 수 있다. 이때 클라이언트는 단일 응답이 종료하는 시점을 알아는것이 필요한데, Content-Length 필드는 응답과 관련된 HTML 객체의 길이를 지정하여 서버가 송신 객체의 길이를 알지 못하면, 서버는 헤더 필드 Connection:close를 보내서 서버가 연결을 종료해 데이터 끝을 명시함을 알린다. <br>
HTTP는 서버와 브라우저가 특정 형식 및 환경 설정 옵션을 공통으로 설정하는데 협상 단계를 지원 <br>

HTTP/2는 성능의 이유로 개발되어 HTTP 1.1의 구문 또는 메소드를 변경하지 않는다.<br>
HTTP/2의 장점
- 연결 내 평행 프로세싱 : HTTP 1.1은 브라우저가 동시에 여러 개와 연결할 수 있지만 각각 한번에 하나의 요청만 응답할 수 있지만, HTTP/2는 서버가 동일한 연결을 통해 한번에 여러 요청을 처리할 수 있다.
- 헤더 압축 : 새로운 연결이 시작될때 전송되는 헤더 정보는 응답 시간을 상당히 지연시켜서, 압축을 통해 헤더 데이터의 전체 크기를 줄일 수 있다.
- 서버 푸쉬 응답 : 서버는 요청을 기다리기 전에 콘텐츠를 제공할 수 있다. 서버는 각 항목에 대한 요청을 기다리는 것보다 추가 항목에 대한 요청을 예상해서 콘텐츠를 푸쉬할 수 있다. <br>
HTTP/2에는 암호화가 필요하지 않지만 암호화를 강력하게 지원하여 TLS 암호화에 대한 표준 프로필 제공 

 상태코드는 상태를 설명하는 3자리 숫자
> | 상태코드 | 설명 |
> | --- | --- |
> | 100 | 정보제공 |
> | 200 | 성공 |
> | 300 | 리다이렉션 |
> | 400 | 클라이언트 오류 |
> | 500 | 서버 오류 |

### HTTPS
TLS 암호화가 있는 HTTP 웹 프로토콜의 버전. 텍스트를 암호화 한다



---
